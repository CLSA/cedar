<div class="container-fluid loading" ng-if="!isComplete"></div>
<div ng-if="isComplete">
  <div class="form-group first-form-group">
    <label for="language_id" class="col-sm-3 control-label">Language</label>
    <div class="col-sm-9">
      <select id="language_id"
              name="language_id"
              ng-options="item.value as item.name for item in model.languageList"
              ng-model="model.viewModel.language.id"
              ng-change="patch( 'language_id' )"
              ng-disabled="!isComplete || !editEnabled"
              class="form-control">
      </select>
    </div>
  </div>
  <hr/>
  <div ng-class="{ 'first-form-group': $first }"
       ng-repeat="word in model.viewModel.labelList"
       class="form-group">
    <label for="{{ word.name }}" class="col-sm-3 control-label">{{ word.label }}</label>
    <div class="col-sm-3">
      <select id="{{ word.name }}"
              name="{{ word.name }}"
              ng-model="model.viewModel.record[word.name]"
              ng-change="patch( word.name )"
              ng-disabled="!isComplete || !editEnabled"
              class="form-control">
        <option value="">(empty)</option>
        <option value="1">Yes</option>
        <option value="0">No</option>
      </select>
    </div>
    <label for="{{ word.name }}_rey_data_variant_id" class="col-sm-1 control-label">variant</label>
    <div class="col-sm-5" ng-init="emptyItem={'value':'','name':'(empty)'}">
      <select id="{{ word.name }}_rey_data_variant_id"
              name="{{ word.name }}_rey_data_variant_id"
              ng-options="item.value as item.name for item in model.variantList |
                            cnByObjectProperty:'language_id':model.viewModel.language.id |
                            cnByObjectProperty:'word':word.name |
                            cnAddItem:emptyItem:true"
              ng-model="model.viewModel.record[word.name+'_rey_data_variant_id']"
              ng-change="patch( word.name+'_rey_data_variant_id' )"
              ng-disabled="!isComplete || !editEnabled"
              class="form-control">
      </select>
    </div>
  </div>
  <hr/>
</div>
<div ng-if="0 == model.viewModel.record.length" class="text-info">
  No words have been entered.
</div>
<div class="row" ng-repeat="doNotUse in model.viewModel.intrusionList track by $index" ng-if="$index % 6 == 0">
  <div class="col-sm-2 input-box"
       ng-repeat="i in [$index, $index+1, $index+2, $index+3, $index+4, $index+5]"
       ng-if="null != model.viewModel.intrusionList[i]">
    <div class="col-xs-10 col-slim-right">
      <input class="form-control" type="text" ng-model="model.viewModel.intrusionList[i].word" disabled></input>
    </div>
    <div class="col-xs-2 col-slim-left">
      <button class="btn btn-danger"
              ng-disabled="isWorking"
              ng-click="deleteIntrusion( model.viewModel.intrusionList[i] )">
        <i class="glyphicon glyphicon-remove"></i>
      </button>
    </div>
  </div>
</div>
<div class="form-group first-form-group">
  <label for="newWord" class="col-sm-3 control-label">Enter intrusion</label>
  <div class="col-sm-9">
    <input class="form-control"
           id="newWord"
           name="newWord"
           type="text"
           ng-model="newWord"
           cn-submit-word="submitNewWord()"
           ng-disabled="!isComplete || isWorking"
           autofocus></input>
  </div>
</div>
